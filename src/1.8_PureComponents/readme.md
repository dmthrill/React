# Чистота компонентів у React

## Що таке чистий компонент?
- Не змінює зовнішні змінні чи об'єкти під час рендеру.
- Для однакових пропсів, state і context завжди повертає однаковий JSX.
- Не змінює пропси, state чи context напряму — для оновлення використовуйте setState.
- Побічні ефекти (запити, таймери, анімації) — тільки у useEffect або обробниках подій.

---

## Що таке побічний ефект?
Побічний ефект — це будь-яка дія, яка змінює щось поза рендером компонента: запит до сервера, таймер, зміна DOM, анімація, збереження даних тощо. У React такі дії не можна виконувати під час рендеру, а лише після нього.

## Для чого потрібен useEffect?
useEffect — це хук, який дозволяє виконувати побічні ефекти після рендеру компонента. Він потрібен для:
- Запитів до сервера (fetch, axios)
- Запуску таймерів (setInterval, setTimeout)
- Підписки на зовнішні події
- Оновлення DOM поза React
- Очищення ресурсів (відписка, зупинка таймера)

useEffect гарантує, що ці дії не порушують чистоту компонента і виконуються у правильний момент.

---

## Приклад чистого компонента
```jsx
function Double({ number }) {
  return <div>{2 * number}</div>;
}
```

## Приклад нечистого компонента (НЕ робіть так!)
```jsx
let counter = 0;
function BadCounter() {
  counter++;
  return <div>{counter}</div>;
}
```

---

## Побічні ефекти через useEffect
```jsx
import { useEffect, useState } from 'react';

function Timer() {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const id = setInterval(() => setSeconds(s => s + 1), 1000);
    return () => clearInterval(id);
  }, []);

  return <div>Seconds: {seconds}</div>;
}
```

---

## Поради
- Описуйте логіку компонента у JSX, який повертає компонент.
- Зміни — через обробники подій або useEffect, не у рендері.
- Чисті компоненти — це стабільність, швидкість і простота підтримки React-додатків.