# Render and Commit (Рендер і Коміт)

## Основні етапи оновлення інтерфейсу в React

1. **Trigger (Тригер)**
   - Початковий рендер (запуск додатку) або повторний рендер через оновлення стану (setState).
   - Приклад:
     ```jsx
     root.render(<App />);
     setCount(count + 1); // тригерить повторний рендер
     ```

2. **Render (Рендер)**
   - React викликає ваші компоненти, щоб отримати новий JSX.
   - Рендер має бути чистою функцією: однакові вхідні дані — однаковий результат.
   - Не змінюйте зовнішні змінні чи об’єкти під час рендеру!
   - Приклад:
     ```jsx
     function Gallery() {
       return (
         <section>
           <Image />
           <Image />
         </section>
       );
     }
     ```

3. **Commit (Коміт)**
   - React оновлює DOM, якщо результат рендеру змінився.
   - Для першого рендеру — створює всі DOM-елементи.
   - Для повторного — змінює тільки те, що змінилося.
   - Приклад:
     ```jsx
     function Clock({ time }) {
       return (
         <>
           <h1>{time}</h1>
           <input />
         </>
       );
     }
     // При оновленні time зміниться тільки <h1>, <input> залишиться як є.
     ```

4. **Browser Paint (Промальовка браузером)**
   - Після коміту браузер перемальовує екран.

---

## Важливі нюанси

- Рендер має бути чистим: не змінюйте стан, не викликайте побічні ефекти.
- React не чіпає DOM, якщо результат рендеру не змінився.
- Strict Mode допомагає знаходити помилки у компонентах, викликаючи їх двічі.

---

## Коли і як використовувати методи

- **setStat** — коли потрібно оновити дані і тригерити рендер.
- **Чисті компоненти** — для передбачуваного рендеру, без побічних ефектів.
- **Оптимізація** — якщо компонент складний, використовуйте мемоізацію або розділяйте на менші компоненти.

---

## Висновок

- Оновлення інтерфейсу в React — це три кроки: Trigger → Render → Commit.
- Дотримуйтесь чистоти рендеру для стабільної роботи додатку.
- React оптимізує оновлення DOM, змінюючи тільки необхідне.

---